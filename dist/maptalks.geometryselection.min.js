/*!
 * maptalks.geometryselection v0.1.0-alpha.1
 * LICENSE : MIT
 * (c) 2016-2019 maptalks.org
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.maptalks=e.maptalks||{})}(this,function(e){"use strict";var f=["Unknown","Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon","GeometryCollection"];function n(e){if(!e)return"true";var t=e[0];return e.length<=1?"any"===t?"false":"true":"("+("=="===t?r(e[1],e[2],"===",!1):"!="===t?r(e[1],e[2],"!==",!1):"<"===t||">"===t||"<="===t||">="===t?r(e[1],e[2],t,!0):"any"===t?o(e.slice(1),"||"):"all"===t?o(e.slice(1),"&&"):"none"===t?a(o(e.slice(1),"||")):"in"===t?i(e[1],e.slice(2)):"!in"===t?a(i(e[1],e.slice(2))):"has"===t?s(e[1]):"!has"===t?a(s(e[1])):"true")+")"}function u(e){return"$"===e[0]?"f."+e.substring(1):"p["+JSON.stringify(e)+"]"}function r(e,t,n,r){var o=u(e),i="$type"===e?f.indexOf(t):JSON.stringify(t);return(r?"typeof "+o+"=== typeof "+i+"&&":"")+o+n+i}function o(e,t){return e.map(n).join(t)}function i(e,t){"$type"===e&&(t=t.map(function(e){return f.indexOf(e)}));var n=JSON.stringify(t.sort(c)),r=u(e);return t.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {\n        while (i <= j) { var m = (i + j) >> 1;\n            if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;\n        }\n    return false; }("+r+", "+n+",0,"+(t.length-1)+")"}function s(e){return"$id"===e?'"id" in f':JSON.stringify(e)+" in p"}function a(e){return"!("+e+")"}function c(e,t){return e<t?-1:t<e?1:0}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var l,p=maptalks.INTERNAL_LAYER_PREFIX,y=(t(h,l=maptalks.Class),h.prototype.enable=function(){return this._enabled=!0,this},h.prototype.disable=function(){return this._enabled=!1,this},h.prototype.toggleEnable=function(){return this._enabled=!this._enabled,this},h.prototype.isEnabled=function(){return this._enabled},h.prototype.getGeometries=function(){return this._geometries||[]},h.prototype.forEach=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!1},o=arguments[1];return"function"!=typeof r||this.getGeometries().forEach(function(e,t,n){o?r.call(o,e,t,n):r(e,t,n)}),this},h.prototype.filter=function(e,r){var o="function"==typeof e,i=o?e:function(e){return new Function("f","var p = (f && f.properties || {}); return "+n(e))}(e);return this.getGeometries().filter(function(e,t,n){return e=o?e:function(e){var t=e._toJSON(),n=t.feature;return n.type=f.indexOf(n.geometry.type),n.subType=t.subType,n}(e),r?i.call(r,e,t,n):i(e,t,n)})},h.prototype.remove=function(){return this},h.prototype._setDefaultChosenGeos=function(e){this._geometries=e instanceof Array?e:[]},h);function h(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.call(this,e));return n._layer=p+"geometryselection@cXiaof",n._enabled=!1,n._setDefaultChosenGeos(t),n}y.mergeOptions({layers:[],colorHit:"#ffa400",colorChoose:"#00bcd4"}),e.GeometrySelection=y,Object.defineProperty(e,"__esModule",{value:!0}),"undefined"!=typeof console&&console.log("maptalks.geometryselection v0.1.0-alpha.1")});